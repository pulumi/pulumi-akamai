// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Akamai
{
    /// <summary>
    /// Use the `akamai.CloudletsPolicy` resource to create and version a policy. For each Cloudlet instance on your contract, there can be any number of policies. A single policy is associated with a single property configuration. Within a policy version you define the rules that determine when the Cloudlet executes. You may want to create a new version of a policy to support a different business requirement, or to test new functionality.
    /// 
    /// ## Example Usage
    /// 
    /// Basic usage:
    /// 
    /// ```csharp
    /// using Pulumi;
    /// using Akamai = Pulumi.Akamai;
    /// 
    /// class MyStack : Stack
    /// {
    ///     public MyStack()
    ///     {
    ///         var example = new Akamai.CloudletsPolicy("example", new Akamai.CloudletsPolicyArgs
    ///         {
    ///             CloudletCode = "ER",
    ///             Description = "policy description",
    ///             GroupId = "grp_123",
    ///             MatchRules = @"  [
    ///   {
    ///     ""name"": ""rule1"",
    ///     ""type"": ""erMatchRule"",
    ///     ""useRelativeUrl"": ""none"",
    ///     ""statusCode"": 301,
    ///     ""redirectURL"": ""https://www.example.com"",
    ///     ""matchURL"": ""example.com"",
    ///     ""useIncomingQueryString"": false,
    ///     ""useIncomingSchemeAndHost"": false
    ///   },
    ///   {
    ///     ""name"": ""rule2"",
    ///     ""type"": ""erMatchRule"",
    ///     ""matches"": [
    ///       {
    ///         ""matchType"": ""path"",
    ///         ""matchValue"": ""/example/website.html"",
    ///         ""matchOperator"": ""equals"",
    ///         ""caseSensitive"": false,
    ///         ""negate"": false
    ///       }
    ///     ],
    ///     ""useRelativeUrl"": ""copy_scheme_hostname"",
    ///     ""statusCode"": 301,
    ///     ""redirectURL"": ""/website.html"",
    ///     ""useIncomingQueryString"": false,
    ///     ""useIncomingSchemeAndHost"": true
    ///   }
    /// ]
    /// ",
    ///         });
    ///     }
    /// 
    /// }
    /// ```
    /// 
    /// ## Import
    /// 
    /// Basic usagehcl resource "akamai_cloudlets_policy" "example" {
    /// 
    /// # (resource arguments)
    /// 
    ///  } You can import your Akamai Cloudlets policy using a policy name. For example
    /// 
    /// ```sh
    ///  $ pulumi import akamai:index/cloudletsPolicy:CloudletsPolicy example policy1
    /// ```
    /// </summary>
    [AkamaiResourceType("akamai:index/cloudletsPolicy:CloudletsPolicy")]
    public partial class CloudletsPolicy : Pulumi.CustomResource
    {
        /// <summary>
        /// The two- or three- character code for the type of Cloudlet. Enter `ALB` for Application Load Balancer, `AP` for API Prioritization, `AS` for Audience Segmentation, `CD` for Phased Release, `ER` for Edge Redirector, `FR` for Forward Rewrite, `IG` for Request Control, `IV` for Input Validation, or `VP` for Visitor Prioritization.
        /// </summary>
        [Output("cloudletCode")]
        public Output<string> CloudletCode { get; private set; } = null!;

        /// <summary>
        /// A unique identifier that corresponds to a Cloudlets policy type. Enter `0` for Edge Redirector, `1` for Visitor Prioritization, `3` for Forward Rewrite, `4` for Request Control, `5` for API Prioritization, `6` for Audience Segmentation, `7` for Phased Release, `8` for Input Validation, or `9` for Application Load Balancer.
        /// </summary>
        [Output("cloudletId")]
        public Output<int> CloudletId { get; private set; } = null!;

        /// <summary>
        /// The description of this specific policy.
        /// </summary>
        [Output("description")]
        public Output<string?> Description { get; private set; } = null!;

        /// <summary>
        /// Defines the group association for the policy. You must have edit privileges for the group.
        /// </summary>
        [Output("groupId")]
        public Output<string> GroupId { get; private set; } = null!;

        /// <summary>
        /// The version of the Cloudlet-specific `match_rules`.
        /// </summary>
        [Output("matchRuleFormat")]
        public Output<string?> MatchRuleFormat { get; private set; } = null!;

        /// <summary>
        /// A JSON structure that defines the rules for this policy
        /// </summary>
        [Output("matchRules")]
        public Output<string?> MatchRules { get; private set; } = null!;

        /// <summary>
        /// The unique name of the policy.
        /// </summary>
        [Output("name")]
        public Output<string> Name { get; private set; } = null!;

        /// <summary>
        /// The version number of the policy.
        /// </summary>
        [Output("version")]
        public Output<int> Version { get; private set; } = null!;

        /// <summary>
        /// A JSON-encoded list of warnings.
        /// </summary>
        [Output("warnings")]
        public Output<string> Warnings { get; private set; } = null!;


        /// <summary>
        /// Create a CloudletsPolicy resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public CloudletsPolicy(string name, CloudletsPolicyArgs args, CustomResourceOptions? options = null)
            : base("akamai:index/cloudletsPolicy:CloudletsPolicy", name, args ?? new CloudletsPolicyArgs(), MakeResourceOptions(options, ""))
        {
        }

        private CloudletsPolicy(string name, Input<string> id, CloudletsPolicyState? state = null, CustomResourceOptions? options = null)
            : base("akamai:index/cloudletsPolicy:CloudletsPolicy", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing CloudletsPolicy resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static CloudletsPolicy Get(string name, Input<string> id, CloudletsPolicyState? state = null, CustomResourceOptions? options = null)
        {
            return new CloudletsPolicy(name, id, state, options);
        }
    }

    public sealed class CloudletsPolicyArgs : Pulumi.ResourceArgs
    {
        /// <summary>
        /// The two- or three- character code for the type of Cloudlet. Enter `ALB` for Application Load Balancer, `AP` for API Prioritization, `AS` for Audience Segmentation, `CD` for Phased Release, `ER` for Edge Redirector, `FR` for Forward Rewrite, `IG` for Request Control, `IV` for Input Validation, or `VP` for Visitor Prioritization.
        /// </summary>
        [Input("cloudletCode", required: true)]
        public Input<string> CloudletCode { get; set; } = null!;

        /// <summary>
        /// The description of this specific policy.
        /// </summary>
        [Input("description")]
        public Input<string>? Description { get; set; }

        /// <summary>
        /// Defines the group association for the policy. You must have edit privileges for the group.
        /// </summary>
        [Input("groupId", required: true)]
        public Input<string> GroupId { get; set; } = null!;

        /// <summary>
        /// The version of the Cloudlet-specific `match_rules`.
        /// </summary>
        [Input("matchRuleFormat")]
        public Input<string>? MatchRuleFormat { get; set; }

        /// <summary>
        /// A JSON structure that defines the rules for this policy
        /// </summary>
        [Input("matchRules")]
        public Input<string>? MatchRules { get; set; }

        /// <summary>
        /// The unique name of the policy.
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        public CloudletsPolicyArgs()
        {
        }
    }

    public sealed class CloudletsPolicyState : Pulumi.ResourceArgs
    {
        /// <summary>
        /// The two- or three- character code for the type of Cloudlet. Enter `ALB` for Application Load Balancer, `AP` for API Prioritization, `AS` for Audience Segmentation, `CD` for Phased Release, `ER` for Edge Redirector, `FR` for Forward Rewrite, `IG` for Request Control, `IV` for Input Validation, or `VP` for Visitor Prioritization.
        /// </summary>
        [Input("cloudletCode")]
        public Input<string>? CloudletCode { get; set; }

        /// <summary>
        /// A unique identifier that corresponds to a Cloudlets policy type. Enter `0` for Edge Redirector, `1` for Visitor Prioritization, `3` for Forward Rewrite, `4` for Request Control, `5` for API Prioritization, `6` for Audience Segmentation, `7` for Phased Release, `8` for Input Validation, or `9` for Application Load Balancer.
        /// </summary>
        [Input("cloudletId")]
        public Input<int>? CloudletId { get; set; }

        /// <summary>
        /// The description of this specific policy.
        /// </summary>
        [Input("description")]
        public Input<string>? Description { get; set; }

        /// <summary>
        /// Defines the group association for the policy. You must have edit privileges for the group.
        /// </summary>
        [Input("groupId")]
        public Input<string>? GroupId { get; set; }

        /// <summary>
        /// The version of the Cloudlet-specific `match_rules`.
        /// </summary>
        [Input("matchRuleFormat")]
        public Input<string>? MatchRuleFormat { get; set; }

        /// <summary>
        /// A JSON structure that defines the rules for this policy
        /// </summary>
        [Input("matchRules")]
        public Input<string>? MatchRules { get; set; }

        /// <summary>
        /// The unique name of the policy.
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        /// <summary>
        /// The version number of the policy.
        /// </summary>
        [Input("version")]
        public Input<int>? Version { get; set; }

        /// <summary>
        /// A JSON-encoded list of warnings.
        /// </summary>
        [Input("warnings")]
        public Input<string>? Warnings { get; set; }

        public CloudletsPolicyState()
        {
        }
    }
}
