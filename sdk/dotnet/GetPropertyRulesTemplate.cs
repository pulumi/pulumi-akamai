// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Akamai
{
    public static class GetPropertyRulesTemplate
    {
        /// <summary>
        /// The `akamai.getPropertyRulesTemplate` data source lets you define a rule tree. A rule tree is a nested block of property rules in JSON format that includes match criteria and behaviors. You can break a rule tree out into smaller JSON  template files that cover individual rules.
        /// 
        /// With this data source, you define which JSON template files to use for your property. You can also set values for variables.
        /// 
        /// This data source uses the rule template format from the [Property Manager CLI](https://github.com/akamai/cli-property-manager#set-up-property-snippets).
        /// 
        /// &gt; You can define variables either by using the Property Manager CLI syntax or by using standard variables.
        /// 
        /// ## How to work with JSON template files
        /// 
        /// You have a few options when working with rule template files:
        /// 
        /// * Use a single JSON file that includes all rules for the property.
        /// * Create separate JSON template files for each rule and store them in the `property-snippets` directory.
        /// * Reference individual template files directly in this data source.
        /// 
        /// ### Create a set of JSON template files
        /// 
        /// If you have a set of JSON template files you want to call:
        /// 
        /// 1. Put them all in a directory called `property-snippets`.
        /// 1. Make sure the `property-snippets` folder only contains `.json` files.
        /// 1. Add the `template_dir` argument. For example: `template_dir = "property-snippets/"`.
        /// 
        /// &gt; This directory name is different from the one required for the Property Manager CLI, which is called `config-snippets`.
        /// 
        /// ## How to use property variables with a template
        /// 
        /// You can also add variables to a template by using a string like `“${env.&lt;variableName&gt;}"`. These property variables follow the file structure and syntax used when [creating a pipeline in the Property Manager CLI](https://github.com/akamai/cli-property-manager#create-and-set-up-a-new-pipeline).
        /// 
        /// You need to create these files when using property variables:
        /// 
        /// * a `variableDefinitions.json` file to define your variables and their default values.
        /// * one or more `variables.json` files to define settings specific to an environment. &lt;br&gt; The file name should always be `variables.json`. If using multiple environments, set up a directory for each environment to store this file in.
        /// 
        /// &gt; Property variables are separate from variables.
        /// 
        /// {{% examples %}}
        /// ## Example Usage
        /// 
        /// ### JSON Template Files
        /// 
        /// Here are some examples of how you can set up your JSON template files for use with this data source.
        /// {{% example %}}
        /// ### Single JSON template that calls other templates
        /// 
        /// Here's an example of a JSON template file with nested templates:
        /// 
        /// ```csharp
        /// using Pulumi;
        /// 
        /// class MyStack : Stack
        /// {
        ///     public MyStack()
        ///     {
        ///     }
        /// 
        /// }
        /// ```
        /// {{% /example %}}
        /// {{% example %}}
        /// ### Individual JSON rule template file
        /// 
        /// Here’s a simple default rule example that you can include inside the `template_data` argument:
        /// 
        /// ```csharp
        /// using Pulumi;
        /// 
        /// class MyStack : Stack
        /// {
        ///     public MyStack()
        ///     {
        ///     }
        /// 
        /// }
        /// ```
        /// 
        /// {{% /example %}}
        /// ### Add Templates To The Data Source
        /// 
        /// Here are some examples of how you can call your JSON template files with this data source.
        /// {{% example %}}
        /// ### Call individual template files with this data source
        /// 
        /// This second example shows how to call a specific JSON template using the `template_data` field:
        /// 
        /// ```csharp
        /// using System.Collections.Generic;
        /// using System.Text.Json;
        /// using Pulumi;
        /// using Akamai = Pulumi.Akamai;
        /// 
        /// class MyStack : Stack
        /// {
        ///     public MyStack()
        ///     {
        ///         var examplePropertyRulesTemplate = Output.Create(Akamai.GetPropertyRulesTemplate.InvokeAsync(new Akamai.GetPropertyRulesTemplateArgs
        ///         {
        ///             Templates = 
        ///             {
        ///                 new Akamai.Inputs.GetPropertyRulesTemplateTemplateArgs
        ///                 {
        ///                     TemplateData = JsonSerializer.Serialize(new Dictionary&lt;string, object?&gt;
        ///                     {
        ///                         { "rules", new Dictionary&lt;string, object?&gt;
        ///                         {
        ///                             { "name", "default" },
        ///                             { "children", new[]
        ///                                 {
        ///                                     "#include:rules.json",
        ///                                 }
        ///                              },
        ///                         } },
        ///                     }),
        ///                     TemplateDir = "property-snippets/",
        ///                 },
        ///             },
        ///         }));
        ///         var exampleProperty = new Akamai.Property("exampleProperty", new Akamai.PropertyArgs
        ///         {
        ///             ContractId = @var.Contractid,
        ///             GroupId = @var.Groupid,
        ///             RuleFormat = "v2020-03-04",
        ///             Rules = examplePropertyRulesTemplate.Apply(examplePropertyRulesTemplate =&gt; examplePropertyRulesTemplate.Json),
        ///         });
        ///     }
        /// 
        /// }
        /// ```
        /// 
        /// {{% /example %}}
        /// ### Variables
        /// 
        /// You can add variables individually or reference variable definition files.
        /// {{% /examples %}}
        /// ## Attributes reference
        /// 
        /// This data source returns this attribute:
        /// 
        /// * `json` - The fully expanded template with variables and all nested templates resolved.
        /// </summary>
        public static Task<GetPropertyRulesTemplateResult> InvokeAsync(GetPropertyRulesTemplateArgs? args = null, InvokeOptions? options = null)
            => Pulumi.Deployment.Instance.InvokeAsync<GetPropertyRulesTemplateResult>("akamai:index/getPropertyRulesTemplate:getPropertyRulesTemplate", args ?? new GetPropertyRulesTemplateArgs(), options.WithDefaults());

        /// <summary>
        /// The `akamai.getPropertyRulesTemplate` data source lets you define a rule tree. A rule tree is a nested block of property rules in JSON format that includes match criteria and behaviors. You can break a rule tree out into smaller JSON  template files that cover individual rules.
        /// 
        /// With this data source, you define which JSON template files to use for your property. You can also set values for variables.
        /// 
        /// This data source uses the rule template format from the [Property Manager CLI](https://github.com/akamai/cli-property-manager#set-up-property-snippets).
        /// 
        /// &gt; You can define variables either by using the Property Manager CLI syntax or by using standard variables.
        /// 
        /// ## How to work with JSON template files
        /// 
        /// You have a few options when working with rule template files:
        /// 
        /// * Use a single JSON file that includes all rules for the property.
        /// * Create separate JSON template files for each rule and store them in the `property-snippets` directory.
        /// * Reference individual template files directly in this data source.
        /// 
        /// ### Create a set of JSON template files
        /// 
        /// If you have a set of JSON template files you want to call:
        /// 
        /// 1. Put them all in a directory called `property-snippets`.
        /// 1. Make sure the `property-snippets` folder only contains `.json` files.
        /// 1. Add the `template_dir` argument. For example: `template_dir = "property-snippets/"`.
        /// 
        /// &gt; This directory name is different from the one required for the Property Manager CLI, which is called `config-snippets`.
        /// 
        /// ## How to use property variables with a template
        /// 
        /// You can also add variables to a template by using a string like `“${env.&lt;variableName&gt;}"`. These property variables follow the file structure and syntax used when [creating a pipeline in the Property Manager CLI](https://github.com/akamai/cli-property-manager#create-and-set-up-a-new-pipeline).
        /// 
        /// You need to create these files when using property variables:
        /// 
        /// * a `variableDefinitions.json` file to define your variables and their default values.
        /// * one or more `variables.json` files to define settings specific to an environment. &lt;br&gt; The file name should always be `variables.json`. If using multiple environments, set up a directory for each environment to store this file in.
        /// 
        /// &gt; Property variables are separate from variables.
        /// 
        /// {{% examples %}}
        /// ## Example Usage
        /// 
        /// ### JSON Template Files
        /// 
        /// Here are some examples of how you can set up your JSON template files for use with this data source.
        /// {{% example %}}
        /// ### Single JSON template that calls other templates
        /// 
        /// Here's an example of a JSON template file with nested templates:
        /// 
        /// ```csharp
        /// using Pulumi;
        /// 
        /// class MyStack : Stack
        /// {
        ///     public MyStack()
        ///     {
        ///     }
        /// 
        /// }
        /// ```
        /// {{% /example %}}
        /// {{% example %}}
        /// ### Individual JSON rule template file
        /// 
        /// Here’s a simple default rule example that you can include inside the `template_data` argument:
        /// 
        /// ```csharp
        /// using Pulumi;
        /// 
        /// class MyStack : Stack
        /// {
        ///     public MyStack()
        ///     {
        ///     }
        /// 
        /// }
        /// ```
        /// 
        /// {{% /example %}}
        /// ### Add Templates To The Data Source
        /// 
        /// Here are some examples of how you can call your JSON template files with this data source.
        /// {{% example %}}
        /// ### Call individual template files with this data source
        /// 
        /// This second example shows how to call a specific JSON template using the `template_data` field:
        /// 
        /// ```csharp
        /// using System.Collections.Generic;
        /// using System.Text.Json;
        /// using Pulumi;
        /// using Akamai = Pulumi.Akamai;
        /// 
        /// class MyStack : Stack
        /// {
        ///     public MyStack()
        ///     {
        ///         var examplePropertyRulesTemplate = Output.Create(Akamai.GetPropertyRulesTemplate.InvokeAsync(new Akamai.GetPropertyRulesTemplateArgs
        ///         {
        ///             Templates = 
        ///             {
        ///                 new Akamai.Inputs.GetPropertyRulesTemplateTemplateArgs
        ///                 {
        ///                     TemplateData = JsonSerializer.Serialize(new Dictionary&lt;string, object?&gt;
        ///                     {
        ///                         { "rules", new Dictionary&lt;string, object?&gt;
        ///                         {
        ///                             { "name", "default" },
        ///                             { "children", new[]
        ///                                 {
        ///                                     "#include:rules.json",
        ///                                 }
        ///                              },
        ///                         } },
        ///                     }),
        ///                     TemplateDir = "property-snippets/",
        ///                 },
        ///             },
        ///         }));
        ///         var exampleProperty = new Akamai.Property("exampleProperty", new Akamai.PropertyArgs
        ///         {
        ///             ContractId = @var.Contractid,
        ///             GroupId = @var.Groupid,
        ///             RuleFormat = "v2020-03-04",
        ///             Rules = examplePropertyRulesTemplate.Apply(examplePropertyRulesTemplate =&gt; examplePropertyRulesTemplate.Json),
        ///         });
        ///     }
        /// 
        /// }
        /// ```
        /// 
        /// {{% /example %}}
        /// ### Variables
        /// 
        /// You can add variables individually or reference variable definition files.
        /// {{% /examples %}}
        /// ## Attributes reference
        /// 
        /// This data source returns this attribute:
        /// 
        /// * `json` - The fully expanded template with variables and all nested templates resolved.
        /// </summary>
        public static Output<GetPropertyRulesTemplateResult> Invoke(GetPropertyRulesTemplateInvokeArgs? args = null, InvokeOptions? options = null)
            => Pulumi.Deployment.Instance.Invoke<GetPropertyRulesTemplateResult>("akamai:index/getPropertyRulesTemplate:getPropertyRulesTemplate", args ?? new GetPropertyRulesTemplateInvokeArgs(), options.WithDefaults());
    }


    public sealed class GetPropertyRulesTemplateArgs : Pulumi.InvokeArgs
    {
        /// <summary>
        /// The absolute path to your top-level JSON template file. The top-level template combines smaller, nested JSON templates to form your property rule tree. This argument conflicts with the `template` argument.
        /// </summary>
        [Input("templateFile")]
        public string? TemplateFile { get; set; }

        [Input("templates")]
        private List<Inputs.GetPropertyRulesTemplateTemplateArgs>? _templates;

        /// <summary>
        /// The template you use in your configuration. This argument conflicts with the `template_file` argument.
        /// </summary>
        public List<Inputs.GetPropertyRulesTemplateTemplateArgs> Templates
        {
            get => _templates ?? (_templates = new List<Inputs.GetPropertyRulesTemplateTemplateArgs>());
            set => _templates = value;
        }

        /// <summary>
        /// Required when using `var_values_file`. The absolute path to the file containing variable definitions and defaults. This argument conflicts with the `variables` argument.
        /// </summary>
        [Input("varDefinitionFile")]
        public string? VarDefinitionFile { get; set; }

        /// <summary>
        /// Required when using `var_definition_file`. The absolute path to the file containing variable values. This argument conflicts with the `variables` argument.
        /// </summary>
        [Input("varValuesFile")]
        public string? VarValuesFile { get; set; }

        [Input("variables")]
        private List<Inputs.GetPropertyRulesTemplateVariableArgs>? _variables;

        /// <summary>
        /// The definition of one or more variables. This argument conflicts with the `var_definition_file` and `var_values_file` arguments. A `variables` block includes:
        /// </summary>
        public List<Inputs.GetPropertyRulesTemplateVariableArgs> Variables
        {
            get => _variables ?? (_variables = new List<Inputs.GetPropertyRulesTemplateVariableArgs>());
            set => _variables = value;
        }

        public GetPropertyRulesTemplateArgs()
        {
        }
    }

    public sealed class GetPropertyRulesTemplateInvokeArgs : Pulumi.InvokeArgs
    {
        /// <summary>
        /// The absolute path to your top-level JSON template file. The top-level template combines smaller, nested JSON templates to form your property rule tree. This argument conflicts with the `template` argument.
        /// </summary>
        [Input("templateFile")]
        public Input<string>? TemplateFile { get; set; }

        [Input("templates")]
        private InputList<Inputs.GetPropertyRulesTemplateTemplateInputArgs>? _templates;

        /// <summary>
        /// The template you use in your configuration. This argument conflicts with the `template_file` argument.
        /// </summary>
        public InputList<Inputs.GetPropertyRulesTemplateTemplateInputArgs> Templates
        {
            get => _templates ?? (_templates = new InputList<Inputs.GetPropertyRulesTemplateTemplateInputArgs>());
            set => _templates = value;
        }

        /// <summary>
        /// Required when using `var_values_file`. The absolute path to the file containing variable definitions and defaults. This argument conflicts with the `variables` argument.
        /// </summary>
        [Input("varDefinitionFile")]
        public Input<string>? VarDefinitionFile { get; set; }

        /// <summary>
        /// Required when using `var_definition_file`. The absolute path to the file containing variable values. This argument conflicts with the `variables` argument.
        /// </summary>
        [Input("varValuesFile")]
        public Input<string>? VarValuesFile { get; set; }

        [Input("variables")]
        private InputList<Inputs.GetPropertyRulesTemplateVariableInputArgs>? _variables;

        /// <summary>
        /// The definition of one or more variables. This argument conflicts with the `var_definition_file` and `var_values_file` arguments. A `variables` block includes:
        /// </summary>
        public InputList<Inputs.GetPropertyRulesTemplateVariableInputArgs> Variables
        {
            get => _variables ?? (_variables = new InputList<Inputs.GetPropertyRulesTemplateVariableInputArgs>());
            set => _variables = value;
        }

        public GetPropertyRulesTemplateInvokeArgs()
        {
        }
    }


    [OutputType]
    public sealed class GetPropertyRulesTemplateResult
    {
        /// <summary>
        /// The provider-assigned unique ID for this managed resource.
        /// </summary>
        public readonly string Id;
        public readonly string Json;
        public readonly string? TemplateFile;
        public readonly ImmutableArray<Outputs.GetPropertyRulesTemplateTemplateResult> Templates;
        public readonly string? VarDefinitionFile;
        public readonly string? VarValuesFile;
        public readonly ImmutableArray<Outputs.GetPropertyRulesTemplateVariableResult> Variables;

        [OutputConstructor]
        private GetPropertyRulesTemplateResult(
            string id,

            string json,

            string? templateFile,

            ImmutableArray<Outputs.GetPropertyRulesTemplateTemplateResult> templates,

            string? varDefinitionFile,

            string? varValuesFile,

            ImmutableArray<Outputs.GetPropertyRulesTemplateVariableResult> variables)
        {
            Id = id;
            Json = json;
            TemplateFile = templateFile;
            Templates = templates;
            VarDefinitionFile = varDefinitionFile;
            VarValuesFile = varValuesFile;
            Variables = variables;
        }
    }
}
