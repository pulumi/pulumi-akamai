// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package akamai

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// **Scopes**: Security configuration; malware protection
//
// Creates, modifies, or deletes malware policies. Malware polices help you control what happens when a request is made to upload files of various types. These policies help you control how your website is protected from malicious uploads.
//
// ## Example Usage
//
// Basic usage:
//
// ```go
// package main
//
// import (
//
//	"fmt"
//	"io/ioutil"
//
//	"github.com/pulumi/pulumi-akamai/sdk/v4/go/akamai"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func readFileOrPanic(path string) pulumi.StringPtrInput {
//		data, err := ioutil.ReadFile(path)
//		if err != nil {
//			panic(err.Error())
//		}
//		return pulumi.String(string(data))
//	}
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			configuration, err := akamai.LookupAppSecConfiguration(ctx, &akamai.LookupAppSecConfigurationArgs{
//				Name: pulumi.StringRef("Documentation"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			malwarePolicy, err := akamai.NewAppSecMalwarePolicy(ctx, "malwarePolicy", &akamai.AppSecMalwarePolicyArgs{
//				ConfigId:      *pulumi.Int(configuration.ConfigId),
//				MalwarePolicy: readFileOrPanic(fmt.Sprintf("%v/malware_policy.json", path.Module)),
//			})
//			if err != nil {
//				return err
//			}
//			ctx.Export("malwarePolicyId", malwarePolicy.MalwarePolicyId)
//			return nil
//		})
//	}
//
// ```
// ## Output Options
//
// The following option can be used to determine the information returned, and how that returned information is formatted:
//
// - `malwarePolicyId`. Unique identifier of the modified or newly-created malware policy.
type AppSecMalwarePolicy struct {
	pulumi.CustomResourceState

	// . Unique identifier of the security configuration associated with the malware policy being modified.
	ConfigId pulumi.IntOutput `pulumi:"configId"`
	// . Path to a JSON file containing a malware policy definition. You can view a sample malware policy JSON file in the [MalwarePolicy](https://developer.akamai.com/api/cloud_security/application_security/v1.html#malwarepolicy) section of the Application Security API documentation.
	MalwarePolicy pulumi.StringOutput `pulumi:"malwarePolicy"`
	// Unique identifier of the malware policy
	MalwarePolicyId pulumi.IntOutput `pulumi:"malwarePolicyId"`
}

// NewAppSecMalwarePolicy registers a new resource with the given unique name, arguments, and options.
func NewAppSecMalwarePolicy(ctx *pulumi.Context,
	name string, args *AppSecMalwarePolicyArgs, opts ...pulumi.ResourceOption) (*AppSecMalwarePolicy, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ConfigId == nil {
		return nil, errors.New("invalid value for required argument 'ConfigId'")
	}
	if args.MalwarePolicy == nil {
		return nil, errors.New("invalid value for required argument 'MalwarePolicy'")
	}
	var resource AppSecMalwarePolicy
	err := ctx.RegisterResource("akamai:index/appSecMalwarePolicy:AppSecMalwarePolicy", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetAppSecMalwarePolicy gets an existing AppSecMalwarePolicy resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetAppSecMalwarePolicy(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *AppSecMalwarePolicyState, opts ...pulumi.ResourceOption) (*AppSecMalwarePolicy, error) {
	var resource AppSecMalwarePolicy
	err := ctx.ReadResource("akamai:index/appSecMalwarePolicy:AppSecMalwarePolicy", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering AppSecMalwarePolicy resources.
type appSecMalwarePolicyState struct {
	// . Unique identifier of the security configuration associated with the malware policy being modified.
	ConfigId *int `pulumi:"configId"`
	// . Path to a JSON file containing a malware policy definition. You can view a sample malware policy JSON file in the [MalwarePolicy](https://developer.akamai.com/api/cloud_security/application_security/v1.html#malwarepolicy) section of the Application Security API documentation.
	MalwarePolicy *string `pulumi:"malwarePolicy"`
	// Unique identifier of the malware policy
	MalwarePolicyId *int `pulumi:"malwarePolicyId"`
}

type AppSecMalwarePolicyState struct {
	// . Unique identifier of the security configuration associated with the malware policy being modified.
	ConfigId pulumi.IntPtrInput
	// . Path to a JSON file containing a malware policy definition. You can view a sample malware policy JSON file in the [MalwarePolicy](https://developer.akamai.com/api/cloud_security/application_security/v1.html#malwarepolicy) section of the Application Security API documentation.
	MalwarePolicy pulumi.StringPtrInput
	// Unique identifier of the malware policy
	MalwarePolicyId pulumi.IntPtrInput
}

func (AppSecMalwarePolicyState) ElementType() reflect.Type {
	return reflect.TypeOf((*appSecMalwarePolicyState)(nil)).Elem()
}

type appSecMalwarePolicyArgs struct {
	// . Unique identifier of the security configuration associated with the malware policy being modified.
	ConfigId int `pulumi:"configId"`
	// . Path to a JSON file containing a malware policy definition. You can view a sample malware policy JSON file in the [MalwarePolicy](https://developer.akamai.com/api/cloud_security/application_security/v1.html#malwarepolicy) section of the Application Security API documentation.
	MalwarePolicy string `pulumi:"malwarePolicy"`
}

// The set of arguments for constructing a AppSecMalwarePolicy resource.
type AppSecMalwarePolicyArgs struct {
	// . Unique identifier of the security configuration associated with the malware policy being modified.
	ConfigId pulumi.IntInput
	// . Path to a JSON file containing a malware policy definition. You can view a sample malware policy JSON file in the [MalwarePolicy](https://developer.akamai.com/api/cloud_security/application_security/v1.html#malwarepolicy) section of the Application Security API documentation.
	MalwarePolicy pulumi.StringInput
}

func (AppSecMalwarePolicyArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*appSecMalwarePolicyArgs)(nil)).Elem()
}

type AppSecMalwarePolicyInput interface {
	pulumi.Input

	ToAppSecMalwarePolicyOutput() AppSecMalwarePolicyOutput
	ToAppSecMalwarePolicyOutputWithContext(ctx context.Context) AppSecMalwarePolicyOutput
}

func (*AppSecMalwarePolicy) ElementType() reflect.Type {
	return reflect.TypeOf((**AppSecMalwarePolicy)(nil)).Elem()
}

func (i *AppSecMalwarePolicy) ToAppSecMalwarePolicyOutput() AppSecMalwarePolicyOutput {
	return i.ToAppSecMalwarePolicyOutputWithContext(context.Background())
}

func (i *AppSecMalwarePolicy) ToAppSecMalwarePolicyOutputWithContext(ctx context.Context) AppSecMalwarePolicyOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AppSecMalwarePolicyOutput)
}

// AppSecMalwarePolicyArrayInput is an input type that accepts AppSecMalwarePolicyArray and AppSecMalwarePolicyArrayOutput values.
// You can construct a concrete instance of `AppSecMalwarePolicyArrayInput` via:
//
//	AppSecMalwarePolicyArray{ AppSecMalwarePolicyArgs{...} }
type AppSecMalwarePolicyArrayInput interface {
	pulumi.Input

	ToAppSecMalwarePolicyArrayOutput() AppSecMalwarePolicyArrayOutput
	ToAppSecMalwarePolicyArrayOutputWithContext(context.Context) AppSecMalwarePolicyArrayOutput
}

type AppSecMalwarePolicyArray []AppSecMalwarePolicyInput

func (AppSecMalwarePolicyArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*AppSecMalwarePolicy)(nil)).Elem()
}

func (i AppSecMalwarePolicyArray) ToAppSecMalwarePolicyArrayOutput() AppSecMalwarePolicyArrayOutput {
	return i.ToAppSecMalwarePolicyArrayOutputWithContext(context.Background())
}

func (i AppSecMalwarePolicyArray) ToAppSecMalwarePolicyArrayOutputWithContext(ctx context.Context) AppSecMalwarePolicyArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AppSecMalwarePolicyArrayOutput)
}

// AppSecMalwarePolicyMapInput is an input type that accepts AppSecMalwarePolicyMap and AppSecMalwarePolicyMapOutput values.
// You can construct a concrete instance of `AppSecMalwarePolicyMapInput` via:
//
//	AppSecMalwarePolicyMap{ "key": AppSecMalwarePolicyArgs{...} }
type AppSecMalwarePolicyMapInput interface {
	pulumi.Input

	ToAppSecMalwarePolicyMapOutput() AppSecMalwarePolicyMapOutput
	ToAppSecMalwarePolicyMapOutputWithContext(context.Context) AppSecMalwarePolicyMapOutput
}

type AppSecMalwarePolicyMap map[string]AppSecMalwarePolicyInput

func (AppSecMalwarePolicyMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*AppSecMalwarePolicy)(nil)).Elem()
}

func (i AppSecMalwarePolicyMap) ToAppSecMalwarePolicyMapOutput() AppSecMalwarePolicyMapOutput {
	return i.ToAppSecMalwarePolicyMapOutputWithContext(context.Background())
}

func (i AppSecMalwarePolicyMap) ToAppSecMalwarePolicyMapOutputWithContext(ctx context.Context) AppSecMalwarePolicyMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AppSecMalwarePolicyMapOutput)
}

type AppSecMalwarePolicyOutput struct{ *pulumi.OutputState }

func (AppSecMalwarePolicyOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**AppSecMalwarePolicy)(nil)).Elem()
}

func (o AppSecMalwarePolicyOutput) ToAppSecMalwarePolicyOutput() AppSecMalwarePolicyOutput {
	return o
}

func (o AppSecMalwarePolicyOutput) ToAppSecMalwarePolicyOutputWithContext(ctx context.Context) AppSecMalwarePolicyOutput {
	return o
}

// . Unique identifier of the security configuration associated with the malware policy being modified.
func (o AppSecMalwarePolicyOutput) ConfigId() pulumi.IntOutput {
	return o.ApplyT(func(v *AppSecMalwarePolicy) pulumi.IntOutput { return v.ConfigId }).(pulumi.IntOutput)
}

// . Path to a JSON file containing a malware policy definition. You can view a sample malware policy JSON file in the [MalwarePolicy](https://developer.akamai.com/api/cloud_security/application_security/v1.html#malwarepolicy) section of the Application Security API documentation.
func (o AppSecMalwarePolicyOutput) MalwarePolicy() pulumi.StringOutput {
	return o.ApplyT(func(v *AppSecMalwarePolicy) pulumi.StringOutput { return v.MalwarePolicy }).(pulumi.StringOutput)
}

// Unique identifier of the malware policy
func (o AppSecMalwarePolicyOutput) MalwarePolicyId() pulumi.IntOutput {
	return o.ApplyT(func(v *AppSecMalwarePolicy) pulumi.IntOutput { return v.MalwarePolicyId }).(pulumi.IntOutput)
}

type AppSecMalwarePolicyArrayOutput struct{ *pulumi.OutputState }

func (AppSecMalwarePolicyArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*AppSecMalwarePolicy)(nil)).Elem()
}

func (o AppSecMalwarePolicyArrayOutput) ToAppSecMalwarePolicyArrayOutput() AppSecMalwarePolicyArrayOutput {
	return o
}

func (o AppSecMalwarePolicyArrayOutput) ToAppSecMalwarePolicyArrayOutputWithContext(ctx context.Context) AppSecMalwarePolicyArrayOutput {
	return o
}

func (o AppSecMalwarePolicyArrayOutput) Index(i pulumi.IntInput) AppSecMalwarePolicyOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *AppSecMalwarePolicy {
		return vs[0].([]*AppSecMalwarePolicy)[vs[1].(int)]
	}).(AppSecMalwarePolicyOutput)
}

type AppSecMalwarePolicyMapOutput struct{ *pulumi.OutputState }

func (AppSecMalwarePolicyMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*AppSecMalwarePolicy)(nil)).Elem()
}

func (o AppSecMalwarePolicyMapOutput) ToAppSecMalwarePolicyMapOutput() AppSecMalwarePolicyMapOutput {
	return o
}

func (o AppSecMalwarePolicyMapOutput) ToAppSecMalwarePolicyMapOutputWithContext(ctx context.Context) AppSecMalwarePolicyMapOutput {
	return o
}

func (o AppSecMalwarePolicyMapOutput) MapIndex(k pulumi.StringInput) AppSecMalwarePolicyOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *AppSecMalwarePolicy {
		return vs[0].(map[string]*AppSecMalwarePolicy)[vs[1].(string)]
	}).(AppSecMalwarePolicyOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*AppSecMalwarePolicyInput)(nil)).Elem(), &AppSecMalwarePolicy{})
	pulumi.RegisterInputType(reflect.TypeOf((*AppSecMalwarePolicyArrayInput)(nil)).Elem(), AppSecMalwarePolicyArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*AppSecMalwarePolicyMapInput)(nil)).Elem(), AppSecMalwarePolicyMap{})
	pulumi.RegisterOutputType(AppSecMalwarePolicyOutput{})
	pulumi.RegisterOutputType(AppSecMalwarePolicyArrayOutput{})
	pulumi.RegisterOutputType(AppSecMalwarePolicyMapOutput{})
}
