// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package akamai

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// The `Property` resource represents an Akamai property configuration.
// This resource lets you to create, update, and activate properties on the
// Akamai platform.
//
// Akamai's edge network caches your web assets near to servers that request them.
// A property provides the main way to control how edge servers respond to various
// kinds of requests for those assets. Properties apply rules to a set of hostnames,
// and you can only apply one property at a time to any given hostname. Each property
// is assigned to a product, which determines which behaviors you can use. Each
// property's default rule needs a valid content provider (CP) code assigned to bill
// and report for the service.
//
// > **Note** In version 0.10 and earlier of this resource, it also controlled content provider (CP) codes, origin settings, rules, and hostname associations. Starting with version 1.0.0, this logic is broken out into individual resources.
//
// ## Example Usage
//
// Basic usage:
//
// ```go
// package main
//
// import (
// 	"github.com/pulumi/pulumi-akamai/sdk/v2/go/akamai"
// 	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
// )
//
// func main() {
// 	pulumi.Run(func(ctx *pulumi.Context) error {
// 		_, err := akamai.NewProperty(ctx, "example", &akamai.PropertyArgs{
// 			ProductId:  pulumi.String("prd_SPM"),
// 			ContractId: pulumi.Any(_var.Contractid),
// 			GroupId:    pulumi.Any(_var.Groupid),
// 			Hostnames: PropertyHostnameArray{
// 				&PropertyHostnameArgs{
// 					CnameFrom:            pulumi.String("example.com"),
// 					CnameTo:              pulumi.String("example.com.edgekey.net"),
// 					CertProvisioningType: pulumi.String("DEFAULT"),
// 				},
// 				&PropertyHostnameArgs{
// 					CnameFrom:            pulumi.String("www.example.com"),
// 					CnameTo:              pulumi.String("example.com.edgesuite.net"),
// 					CertProvisioningType: pulumi.String("CPS_MANAGED"),
// 				},
// 			},
// 			RuleFormat: pulumi.String("v2020-03-04"),
// 			Rules:      pulumi.Any(data.Akamai_property_rules_template.Example.Json),
// 		})
// 		if err != nil {
// 			return err
// 		}
// 		return nil
// 	})
// }
// ```
//
// ## Import
//
// Basic Usagehcl resource "akamai_property" "example" {
//
// # (resource arguments)
//
//  } You can import the latest Akamai property version by using either the `property_id` or a comma-delimited string of the property, contract, and group IDs. You'll need to enter the string of IDs if the property belongs to multiple groups or contracts. If using the string of IDs, you need to enter them in this order`property_id,contract_id,group_id` To import a specific property version, pass additional parameters, either* `LATEST` to import the latest version of the property, regardless of whether it's active or not. This works the same as providing just the `property_id` or a string of the property, contract, and group IDs, which is the default behavior. * `PRODUCTION`, `PROD`, or `P` to import the latest version activated on the production environment. * `STAGING`, `STAGE`, `STAG`, or `S` to import the latest version activated on the staging environment. * Version number or version number with the `ver_` prefix to import a specific property version. For example `3` and `ver_3` correspond to the same version number. Here are some examples for the latest property version
//
// ```sh
//  $ pulumi import akamai:index/property:Property example prp_123
// ```
//
//  Or
//
// ```sh
//  $ pulumi import akamai:index/property:Property example prp_123,ctr_1-AB123,grp_123
// ```
//
//  Here are some examples for the latest active property version on the production network
//
// ```sh
//  $ pulumi import akamai:index/property:Property example prp_123,P
// ```
//
//  Or
//
// ```sh
//  $ pulumi import akamai:index/property:Property example prp_123,ctr_1-AB123,grp_123,PROD
// ```
//
//  Here are some examples for the specific property version
//
// ```sh
//  $ pulumi import akamai:index/property:Property example prp_123,3
// ```
//
//  Or
//
// ```sh
//  $ pulumi import akamai:index/property:Property example prp_123,ctr_1-AB123,grp_123,ver_3
// ```
type Property struct {
	pulumi.CustomResourceState

	// Deprecated: The setting "contact" has been deprecated.
	Contacts pulumi.StringArrayOutput `pulumi:"contacts"`
	// Replaced by `contractId`. Maintained for legacy purposes.
	//
	// Deprecated: The setting "contract" has been deprecated.
	Contract pulumi.StringOutput `pulumi:"contract"`
	// - (Required) A contract's unique ID, including the `ctr_` prefix.
	ContractId pulumi.StringOutput `pulumi:"contractId"`
	// Deprecated: The setting "cp_code" has been deprecated.
	CpCode pulumi.StringPtrOutput `pulumi:"cpCode"`
	// Replaced by `groupId`. Maintained for legacy purposes.
	//
	// Deprecated: The setting "group" has been deprecated.
	Group pulumi.StringOutput `pulumi:"group"`
	// - (Required) A group's unique ID, including the `grp_` prefix.
	GroupId pulumi.StringOutput `pulumi:"groupId"`
	// A mapping of public hostnames to edge hostnames. See the `getPropertyHostnames` data source for details on the necessary DNS configuration.
	Hostnames PropertyHostnameArrayOutput `pulumi:"hostnames"`
	// Deprecated: The setting "is_secure" has been deprecated.
	IsSecure pulumi.BoolPtrOutput `pulumi:"isSecure"`
	// The version of the property you've created or updated rules for. The Akamai Provider always uses the latest version or creates a new version if latest is not editable.
	LatestVersion pulumi.IntOutput `pulumi:"latestVersion"`
	// The property name.
	Name pulumi.StringOutput `pulumi:"name"`
	// Deprecated: The setting "origin" has been deprecated.
	Origins PropertyOriginArrayOutput `pulumi:"origins"`
	// Optional argument replaced by the now required `productId`. Maintained for legacy purposes.
	//
	// Deprecated: The setting "product" has been deprecated.
	Product pulumi.StringOutput `pulumi:"product"`
	// Product ID to be assigned to the Property
	ProductId pulumi.StringOutput `pulumi:"productId"`
	// The current version of the property active on the Akamai production network.
	ProductionVersion pulumi.IntOutput `pulumi:"productionVersion"`
	// Required property's version to be read
	ReadVersion pulumi.IntOutput `pulumi:"readVersion"`
	// The contents of `errors` field returned by the API. For more information see [Errors](https://developer.akamai.com/api/core_features/property_manager/v1.html#errors) in the PAPI documentation.
	RuleErrors PropertyRuleErrorArrayOutput `pulumi:"ruleErrors"`
	// The [rule format](https://developer.akamai.com/api/core_features/property_manager/v1.html#getruleformats) to use. Uses the latest rule format by default.
	RuleFormat pulumi.StringOutput `pulumi:"ruleFormat"`
	// Deprecated: Rule warnings will not be set in state anymore
	RuleWarnings PropertyRuleWarningArrayOutput `pulumi:"ruleWarnings"`
	// A JSON-encoded rule tree for a given property. For this argument, you need to enter a complete JSON rule tree, unless you set up a series of JSON templates. See the `getPropertyRules` data source.
	Rules pulumi.StringOutput `pulumi:"rules"`
	// The current version of the property active on the Akamai staging network.
	StagingVersion pulumi.IntOutput `pulumi:"stagingVersion"`
	// Deprecated: The setting "variables" has been deprecated.
	Variables pulumi.StringPtrOutput `pulumi:"variables"`
}

// NewProperty registers a new resource with the given unique name, arguments, and options.
func NewProperty(ctx *pulumi.Context,
	name string, args *PropertyArgs, opts ...pulumi.ResourceOption) (*Property, error) {
	if args == nil {
		args = &PropertyArgs{}
	}

	aliases := pulumi.Aliases([]pulumi.Alias{
		{
			Type: pulumi.String("akamai:properties/property:Property"),
		},
	})
	opts = append(opts, aliases)
	var resource Property
	err := ctx.RegisterResource("akamai:index/property:Property", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetProperty gets an existing Property resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetProperty(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *PropertyState, opts ...pulumi.ResourceOption) (*Property, error) {
	var resource Property
	err := ctx.ReadResource("akamai:index/property:Property", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Property resources.
type propertyState struct {
	// Deprecated: The setting "contact" has been deprecated.
	Contacts []string `pulumi:"contacts"`
	// Replaced by `contractId`. Maintained for legacy purposes.
	//
	// Deprecated: The setting "contract" has been deprecated.
	Contract *string `pulumi:"contract"`
	// - (Required) A contract's unique ID, including the `ctr_` prefix.
	ContractId *string `pulumi:"contractId"`
	// Deprecated: The setting "cp_code" has been deprecated.
	CpCode *string `pulumi:"cpCode"`
	// Replaced by `groupId`. Maintained for legacy purposes.
	//
	// Deprecated: The setting "group" has been deprecated.
	Group *string `pulumi:"group"`
	// - (Required) A group's unique ID, including the `grp_` prefix.
	GroupId *string `pulumi:"groupId"`
	// A mapping of public hostnames to edge hostnames. See the `getPropertyHostnames` data source for details on the necessary DNS configuration.
	Hostnames []PropertyHostname `pulumi:"hostnames"`
	// Deprecated: The setting "is_secure" has been deprecated.
	IsSecure *bool `pulumi:"isSecure"`
	// The version of the property you've created or updated rules for. The Akamai Provider always uses the latest version or creates a new version if latest is not editable.
	LatestVersion *int `pulumi:"latestVersion"`
	// The property name.
	Name *string `pulumi:"name"`
	// Deprecated: The setting "origin" has been deprecated.
	Origins []PropertyOrigin `pulumi:"origins"`
	// Optional argument replaced by the now required `productId`. Maintained for legacy purposes.
	//
	// Deprecated: The setting "product" has been deprecated.
	Product *string `pulumi:"product"`
	// Product ID to be assigned to the Property
	ProductId *string `pulumi:"productId"`
	// The current version of the property active on the Akamai production network.
	ProductionVersion *int `pulumi:"productionVersion"`
	// Required property's version to be read
	ReadVersion *int `pulumi:"readVersion"`
	// The contents of `errors` field returned by the API. For more information see [Errors](https://developer.akamai.com/api/core_features/property_manager/v1.html#errors) in the PAPI documentation.
	RuleErrors []PropertyRuleError `pulumi:"ruleErrors"`
	// The [rule format](https://developer.akamai.com/api/core_features/property_manager/v1.html#getruleformats) to use. Uses the latest rule format by default.
	RuleFormat *string `pulumi:"ruleFormat"`
	// Deprecated: Rule warnings will not be set in state anymore
	RuleWarnings []PropertyRuleWarning `pulumi:"ruleWarnings"`
	// A JSON-encoded rule tree for a given property. For this argument, you need to enter a complete JSON rule tree, unless you set up a series of JSON templates. See the `getPropertyRules` data source.
	Rules *string `pulumi:"rules"`
	// The current version of the property active on the Akamai staging network.
	StagingVersion *int `pulumi:"stagingVersion"`
	// Deprecated: The setting "variables" has been deprecated.
	Variables *string `pulumi:"variables"`
}

type PropertyState struct {
	// Deprecated: The setting "contact" has been deprecated.
	Contacts pulumi.StringArrayInput
	// Replaced by `contractId`. Maintained for legacy purposes.
	//
	// Deprecated: The setting "contract" has been deprecated.
	Contract pulumi.StringPtrInput
	// - (Required) A contract's unique ID, including the `ctr_` prefix.
	ContractId pulumi.StringPtrInput
	// Deprecated: The setting "cp_code" has been deprecated.
	CpCode pulumi.StringPtrInput
	// Replaced by `groupId`. Maintained for legacy purposes.
	//
	// Deprecated: The setting "group" has been deprecated.
	Group pulumi.StringPtrInput
	// - (Required) A group's unique ID, including the `grp_` prefix.
	GroupId pulumi.StringPtrInput
	// A mapping of public hostnames to edge hostnames. See the `getPropertyHostnames` data source for details on the necessary DNS configuration.
	Hostnames PropertyHostnameArrayInput
	// Deprecated: The setting "is_secure" has been deprecated.
	IsSecure pulumi.BoolPtrInput
	// The version of the property you've created or updated rules for. The Akamai Provider always uses the latest version or creates a new version if latest is not editable.
	LatestVersion pulumi.IntPtrInput
	// The property name.
	Name pulumi.StringPtrInput
	// Deprecated: The setting "origin" has been deprecated.
	Origins PropertyOriginArrayInput
	// Optional argument replaced by the now required `productId`. Maintained for legacy purposes.
	//
	// Deprecated: The setting "product" has been deprecated.
	Product pulumi.StringPtrInput
	// Product ID to be assigned to the Property
	ProductId pulumi.StringPtrInput
	// The current version of the property active on the Akamai production network.
	ProductionVersion pulumi.IntPtrInput
	// Required property's version to be read
	ReadVersion pulumi.IntPtrInput
	// The contents of `errors` field returned by the API. For more information see [Errors](https://developer.akamai.com/api/core_features/property_manager/v1.html#errors) in the PAPI documentation.
	RuleErrors PropertyRuleErrorArrayInput
	// The [rule format](https://developer.akamai.com/api/core_features/property_manager/v1.html#getruleformats) to use. Uses the latest rule format by default.
	RuleFormat pulumi.StringPtrInput
	// Deprecated: Rule warnings will not be set in state anymore
	RuleWarnings PropertyRuleWarningArrayInput
	// A JSON-encoded rule tree for a given property. For this argument, you need to enter a complete JSON rule tree, unless you set up a series of JSON templates. See the `getPropertyRules` data source.
	Rules pulumi.StringPtrInput
	// The current version of the property active on the Akamai staging network.
	StagingVersion pulumi.IntPtrInput
	// Deprecated: The setting "variables" has been deprecated.
	Variables pulumi.StringPtrInput
}

func (PropertyState) ElementType() reflect.Type {
	return reflect.TypeOf((*propertyState)(nil)).Elem()
}

type propertyArgs struct {
	// Deprecated: The setting "contact" has been deprecated.
	Contacts []string `pulumi:"contacts"`
	// Replaced by `contractId`. Maintained for legacy purposes.
	//
	// Deprecated: The setting "contract" has been deprecated.
	Contract *string `pulumi:"contract"`
	// - (Required) A contract's unique ID, including the `ctr_` prefix.
	ContractId *string `pulumi:"contractId"`
	// Deprecated: The setting "cp_code" has been deprecated.
	CpCode *string `pulumi:"cpCode"`
	// Replaced by `groupId`. Maintained for legacy purposes.
	//
	// Deprecated: The setting "group" has been deprecated.
	Group *string `pulumi:"group"`
	// - (Required) A group's unique ID, including the `grp_` prefix.
	GroupId *string `pulumi:"groupId"`
	// A mapping of public hostnames to edge hostnames. See the `getPropertyHostnames` data source for details on the necessary DNS configuration.
	Hostnames []PropertyHostname `pulumi:"hostnames"`
	// Deprecated: The setting "is_secure" has been deprecated.
	IsSecure *bool `pulumi:"isSecure"`
	// The property name.
	Name *string `pulumi:"name"`
	// Deprecated: The setting "origin" has been deprecated.
	Origins []PropertyOrigin `pulumi:"origins"`
	// Optional argument replaced by the now required `productId`. Maintained for legacy purposes.
	//
	// Deprecated: The setting "product" has been deprecated.
	Product *string `pulumi:"product"`
	// Product ID to be assigned to the Property
	ProductId *string `pulumi:"productId"`
	// The [rule format](https://developer.akamai.com/api/core_features/property_manager/v1.html#getruleformats) to use. Uses the latest rule format by default.
	RuleFormat *string `pulumi:"ruleFormat"`
	// Deprecated: Rule warnings will not be set in state anymore
	RuleWarnings []PropertyRuleWarning `pulumi:"ruleWarnings"`
	// A JSON-encoded rule tree for a given property. For this argument, you need to enter a complete JSON rule tree, unless you set up a series of JSON templates. See the `getPropertyRules` data source.
	Rules *string `pulumi:"rules"`
	// Deprecated: The setting "variables" has been deprecated.
	Variables *string `pulumi:"variables"`
}

// The set of arguments for constructing a Property resource.
type PropertyArgs struct {
	// Deprecated: The setting "contact" has been deprecated.
	Contacts pulumi.StringArrayInput
	// Replaced by `contractId`. Maintained for legacy purposes.
	//
	// Deprecated: The setting "contract" has been deprecated.
	Contract pulumi.StringPtrInput
	// - (Required) A contract's unique ID, including the `ctr_` prefix.
	ContractId pulumi.StringPtrInput
	// Deprecated: The setting "cp_code" has been deprecated.
	CpCode pulumi.StringPtrInput
	// Replaced by `groupId`. Maintained for legacy purposes.
	//
	// Deprecated: The setting "group" has been deprecated.
	Group pulumi.StringPtrInput
	// - (Required) A group's unique ID, including the `grp_` prefix.
	GroupId pulumi.StringPtrInput
	// A mapping of public hostnames to edge hostnames. See the `getPropertyHostnames` data source for details on the necessary DNS configuration.
	Hostnames PropertyHostnameArrayInput
	// Deprecated: The setting "is_secure" has been deprecated.
	IsSecure pulumi.BoolPtrInput
	// The property name.
	Name pulumi.StringPtrInput
	// Deprecated: The setting "origin" has been deprecated.
	Origins PropertyOriginArrayInput
	// Optional argument replaced by the now required `productId`. Maintained for legacy purposes.
	//
	// Deprecated: The setting "product" has been deprecated.
	Product pulumi.StringPtrInput
	// Product ID to be assigned to the Property
	ProductId pulumi.StringPtrInput
	// The [rule format](https://developer.akamai.com/api/core_features/property_manager/v1.html#getruleformats) to use. Uses the latest rule format by default.
	RuleFormat pulumi.StringPtrInput
	// Deprecated: Rule warnings will not be set in state anymore
	RuleWarnings PropertyRuleWarningArrayInput
	// A JSON-encoded rule tree for a given property. For this argument, you need to enter a complete JSON rule tree, unless you set up a series of JSON templates. See the `getPropertyRules` data source.
	Rules pulumi.StringPtrInput
	// Deprecated: The setting "variables" has been deprecated.
	Variables pulumi.StringPtrInput
}

func (PropertyArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*propertyArgs)(nil)).Elem()
}

type PropertyInput interface {
	pulumi.Input

	ToPropertyOutput() PropertyOutput
	ToPropertyOutputWithContext(ctx context.Context) PropertyOutput
}

func (*Property) ElementType() reflect.Type {
	return reflect.TypeOf((**Property)(nil)).Elem()
}

func (i *Property) ToPropertyOutput() PropertyOutput {
	return i.ToPropertyOutputWithContext(context.Background())
}

func (i *Property) ToPropertyOutputWithContext(ctx context.Context) PropertyOutput {
	return pulumi.ToOutputWithContext(ctx, i).(PropertyOutput)
}

// PropertyArrayInput is an input type that accepts PropertyArray and PropertyArrayOutput values.
// You can construct a concrete instance of `PropertyArrayInput` via:
//
//          PropertyArray{ PropertyArgs{...} }
type PropertyArrayInput interface {
	pulumi.Input

	ToPropertyArrayOutput() PropertyArrayOutput
	ToPropertyArrayOutputWithContext(context.Context) PropertyArrayOutput
}

type PropertyArray []PropertyInput

func (PropertyArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Property)(nil)).Elem()
}

func (i PropertyArray) ToPropertyArrayOutput() PropertyArrayOutput {
	return i.ToPropertyArrayOutputWithContext(context.Background())
}

func (i PropertyArray) ToPropertyArrayOutputWithContext(ctx context.Context) PropertyArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(PropertyArrayOutput)
}

// PropertyMapInput is an input type that accepts PropertyMap and PropertyMapOutput values.
// You can construct a concrete instance of `PropertyMapInput` via:
//
//          PropertyMap{ "key": PropertyArgs{...} }
type PropertyMapInput interface {
	pulumi.Input

	ToPropertyMapOutput() PropertyMapOutput
	ToPropertyMapOutputWithContext(context.Context) PropertyMapOutput
}

type PropertyMap map[string]PropertyInput

func (PropertyMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Property)(nil)).Elem()
}

func (i PropertyMap) ToPropertyMapOutput() PropertyMapOutput {
	return i.ToPropertyMapOutputWithContext(context.Background())
}

func (i PropertyMap) ToPropertyMapOutputWithContext(ctx context.Context) PropertyMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(PropertyMapOutput)
}

type PropertyOutput struct{ *pulumi.OutputState }

func (PropertyOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Property)(nil)).Elem()
}

func (o PropertyOutput) ToPropertyOutput() PropertyOutput {
	return o
}

func (o PropertyOutput) ToPropertyOutputWithContext(ctx context.Context) PropertyOutput {
	return o
}

type PropertyArrayOutput struct{ *pulumi.OutputState }

func (PropertyArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Property)(nil)).Elem()
}

func (o PropertyArrayOutput) ToPropertyArrayOutput() PropertyArrayOutput {
	return o
}

func (o PropertyArrayOutput) ToPropertyArrayOutputWithContext(ctx context.Context) PropertyArrayOutput {
	return o
}

func (o PropertyArrayOutput) Index(i pulumi.IntInput) PropertyOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *Property {
		return vs[0].([]*Property)[vs[1].(int)]
	}).(PropertyOutput)
}

type PropertyMapOutput struct{ *pulumi.OutputState }

func (PropertyMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Property)(nil)).Elem()
}

func (o PropertyMapOutput) ToPropertyMapOutput() PropertyMapOutput {
	return o
}

func (o PropertyMapOutput) ToPropertyMapOutputWithContext(ctx context.Context) PropertyMapOutput {
	return o
}

func (o PropertyMapOutput) MapIndex(k pulumi.StringInput) PropertyOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *Property {
		return vs[0].(map[string]*Property)[vs[1].(string)]
	}).(PropertyOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*PropertyInput)(nil)).Elem(), &Property{})
	pulumi.RegisterInputType(reflect.TypeOf((*PropertyArrayInput)(nil)).Elem(), PropertyArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*PropertyMapInput)(nil)).Elem(), PropertyMap{})
	pulumi.RegisterOutputType(PropertyOutput{})
	pulumi.RegisterOutputType(PropertyArrayOutput{})
	pulumi.RegisterOutputType(PropertyMapOutput{})
}
